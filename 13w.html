<html>
  <head>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'>
    <title>Chinese Poker</title>
    <link rel='stylesheet' href='game.css'></link>
    <script src='game.js'/></script>
    <script src='special_pattern.js'/></script>
    <script src='wave_evaluator.js'/></script>
    <script src='hand_optimizer.js'/></script>
  </head>
  <body onload='deal_hand()'>
    <h1>Chinese Poker</h1>
    <table class='table'>
      <tr>
        <td>
          <table class='hand' id='ai_front'>
            <tr>
              <td>
                <table class='card' id='ai_card_0' onclick='peek_ai_card(0)'>
                  <tr><td class='rank' id='ai_front_rank_0'>?</td></tr>
                  <tr><td class='suit' id='ai_front_suit_0'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_card_1' onclick='peek_ai_card(1)'>
                  <tr><td class='rank' id='ai_front_rank_1'>?</td></tr>
                  <tr><td class='suit' id='ai_front_suit_1'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_card_2' onclick='peek_ai_card(2)'>
                  <tr><td class='rank' id='ai_front_rank_2'>?</td></tr>
                  <tr><td class='suit' id='ai_front_suit_2'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
        <td>
          <table class='hand' id='ai_center'>
            <tr>
              <td>
                <table class='card' id='ai_card_3' onclick='peek_ai_card(3)'>
                  <tr><td class='rank' id='ai_center_rank_0'>?</td></tr>
                  <tr><td class='suit' id='ai_center_suit_0'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_card_4' onclick='peek_ai_card(4)'>
                  <tr><td class='rank' id='ai_center_rank_1'>?</td></tr>
                  <tr><td class='suit' id='ai_center_suit_1'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_card_5' onclick='peek_ai_card(5)'>
                  <tr><td class='rank' id='ai_center_rank_2'>?</td></tr>
                  <tr><td class='suit' id='ai_center_suit_2'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_card_6' onclick='peek_ai_card(6)'>
                  <tr><td class='rank' id='ai_center_rank_3'>?</td></tr>
                  <tr><td class='suit' id='ai_center_suit_3'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_card_7' onclick='peek_ai_card(7)'>
                  <tr><td class='rank' id='ai_center_rank_4'>?</td></tr>
                  <tr><td class='suit' id='ai_center_suit_4'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
        <td>
          <table class='hand' id='ai_back'>
            <tr>
              <td>
                <table class='card' id='ai_card_8' onclick='peek_ai_card(8)'>
                  <tr><td class='rank' id='ai_back_rank_0'>?</td></tr>
                  <tr><td class='suit' id='ai_back_suit_0'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_card_9' onclick='peek_ai_card(9)'>
                  <tr><td class='rank' id='ai_back_rank_1'>?</td></tr>
                  <tr><td class='suit' id='ai_back_suit_1'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_card_10' onclick='peek_ai_card(10)'>
                  <tr><td class='rank' id='ai_back_rank_2'>?</td></tr>
                  <tr><td class='suit' id='ai_back_suit_2'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_card_11' onclick='peek_ai_card(11)'>
                  <tr><td class='rank' id='ai_back_rank_3'>?</td></tr>
                  <tr><td class='suit' id='ai_back_suit_3'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_card_12' onclick='peek_ai_card(12)'>
                  <tr><td class='rank' id='ai_back_rank_4'>?</td></tr>
                  <tr><td class='suit' id='ai_back_suit_4'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
        <td class='menu'>
          <b>Level</b><br/>
          <select class='menu' id='level' onchange='select_level()'>
            <option value='0'>Jack</option>
            <option value='1'>Queen</option>
            <option value='2' selected>King</option>
            <option value='3'>Ace</option>
          </select>
        </td>
      </tr>
      <tr class='menu'>
        <td><div class='logo' id='logo'>十三水</div></td>
        <td class='score'>
          <div id='score_diff'></div>
          <div id='score'>You 0-0 AI</div>
          <audio id='win'><source src='win.mp3'/></audio>
          <audio id='lose'><source src='lose.mp3'/></audio>
        </td>
        <td>
          <button class='menu' id='save' onclick='save_waves()'>Save</button>
          <b class='menu' id='load'></b>
        </td>
        <td>
          <button class='menu' id='deal' onclick='deal_hand()'>Deal</button>
          <button class='menu' id='show' onclick='show_hand()'>Show</button>
        </td>
      </tr>
      <tr class='pattern'>
        <td id='front_pattern'>&nbsp;</td>
        <td id='center_pattern'>&nbsp;</td>
        <td id='back_pattern'>&nbsp;</td>
        <td id='average'>&nbsp;</td>
      </tr>
      <tr>
        <td>
          <table class='hand' id='front'>
            <tr>
              <td>
                <table class='card' onclick='undo_wave_card(Front, 0)'>
                  <tr><td class='rank' id='front_rank_0'>?</td></tr>
                  <tr><td class='suit' id='front_suit_0'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' onclick='undo_wave_card(Front, 1)'>
                  <tr><td class='rank' id='front_rank_1'>?</td></tr>
                  <tr><td class='suit' id='front_suit_1'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' onclick='undo_wave_card(Front, 2)'>
                  <tr><td class='rank' id='front_rank_2'>?</td></tr>
                  <tr><td class='suit' id='front_suit_2'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
        <td>
          <table class='hand' id='center'>
            <tr>
              <td>
                <table class='card' onclick='undo_wave_card(Center, 0)'>
                  <tr><td class='rank' id='center_rank_0'>?</td></tr>
                  <tr><td class='suit' id='center_suit_0'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' onclick='undo_wave_card(Center, 1)'>
                  <tr><td class='rank' id='center_rank_1'>?</td></tr>
                  <tr><td class='suit' id='center_suit_1'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' onclick='undo_wave_card(Center, 2)'>
                  <tr><td class='rank' id='center_rank_2'>?</td></tr>
                  <tr><td class='suit' id='center_suit_2'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' onclick='undo_wave_card(Center, 3)'>
                  <tr><td class='rank' id='center_rank_3'>?</td></tr>
                  <tr><td class='suit' id='center_suit_3'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' onclick='undo_wave_card(Center, 4)'>
                  <tr><td class='rank' id='center_rank_4'>?</td></tr>
                  <tr><td class='suit' id='center_suit_4'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
        <td>
          <table class='hand' id='back'>
            <tr>
              <td>
                <table class='card' onclick='undo_wave_card(Back, 0)'>
                  <tr><td class='rank' id='back_rank_0'>?</td></tr>
                  <tr><td class='suit' id='back_suit_0'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' onclick='undo_wave_card(Back, 1)'>
                  <tr><td class='rank' id='back_rank_1'>?</td></tr>
                  <tr><td class='suit' id='back_suit_1'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' onclick='undo_wave_card(Back, 2)'>
                  <tr><td class='rank' id='back_rank_2'>?</td></tr>
                  <tr><td class='suit' id='back_suit_2'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' onclick='undo_wave_card(Back, 3)'>
                  <tr><td class='rank' id='back_rank_3'>?</td></tr>
                  <tr><td class='suit' id='back_suit_3'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' onclick='undo_wave_card(Back, 4)'>
                  <tr><td class='rank' id='back_rank_4'>?</td></tr>
                  <tr><td class='suit' id='back_suit_4'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <button class='menu' id='auto' onclick='optimize_hand()'>Auto</button>
                <button class='menu' id='fold' onclick='show_element("fold_alert")'>Fold</button>
              </td>
            </tr>
            <tr>
            </tr>
            <tr>
              <td>
                <button class='menu' onclick='undo_all_cards()'>Clear</button>
              </td>
            </tr>
          </table>
        </td>
      </tr>
      <tr class='move'>
        <td>
          <button class='move' onclick='fill_wave(Front)'>⇈</button>
          &nbsp; &nbsp;
          <button class='move' onclick='clear_wave(Front)'>⇊</button>
        </td>
        <td>
          <button class='move' onclick='fill_wave(Center)'>⇈</button>
          &nbsp; &nbsp;
          <button class='move' onclick='clear_wave(Center)'>⇊</button>
        </td>
        <td>
          <button class='move' onclick='fill_wave(Back)'>⇈</button>
          &nbsp; &nbsp;
          <button class='move' onclick='clear_wave(Back)'>⇊</button>
        </td>
      </tr>
      <tr>
        <td colspan='3'>
          <div class='special' id='special'></div>
          <table class='hand'>
            <tr>
              <td>
                <table class='card' id='card_0' onmousedown='press_card(0)' onmouseup='release_card(0)' ontouchstart='press_card(0)' ontouchend='release_card(0)'>
                  <tr><td class='rank' id='rank_0'>?</td></tr>
                  <tr><td class='suit' id='suit_0'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_1' onmousedown='press_card(1)' onmouseup='release_card(1)' ontouchstart='press_card(1)' ontouchend='release_card(1)'>
                  <tr><td class='rank' id='rank_1'>?</td></tr>
                  <tr><td class='suit' id='suit_1'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_2' onmousedown='press_card(2)' onmouseup='release_card(2)' ontouchstart='press_card(2)' ontouchend='release_card(2)'>
                  <tr><td class='rank' id='rank_2'>?</td></tr>
                  <tr><td class='suit' id='suit_2'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_3' onmousedown='press_card(3)' onmouseup='release_card(3)' ontouchstart='press_card(3)' ontouchend='release_card(3)'>
                  <tr><td class='rank' id='rank_3'>?</td></tr>
                  <tr><td class='suit' id='suit_3'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_4' onmousedown='press_card(4)' onmouseup='release_card(4)' ontouchstart='press_card(4)' ontouchend='release_card(4)'>
                  <tr><td class='rank' id='rank_4'>?</td></tr>
                  <tr><td class='suit' id='suit_4'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_5' onmousedown='press_card(5)' onmouseup='release_card(5)' ontouchstart='press_card(5)' ontouchend='release_card(5)'>
                  <tr><td class='rank' id='rank_5'>?</td></tr>
                  <tr><td class='suit' id='suit_5'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_6' onmousedown='press_card(6)' onmouseup='release_card(6)' ontouchstart='press_card(6)' ontouchend='release_card(6)'>
                  <tr><td class='rank' id='rank_6'>?</td></tr>
                  <tr><td class='suit' id='suit_6'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_7' onmousedown='press_card(7)' onmouseup='release_card(7)' ontouchstart='press_card(7)' ontouchend='release_card(7)'>
                  <tr><td class='rank' id='rank_7'>?</td></tr>
                  <tr><td class='suit' id='suit_7'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_8' onmousedown='press_card(8)' onmouseup='release_card(8)' ontouchstart='press_card(8)' ontouchend='release_card(8)'>
                  <tr><td class='rank' id='rank_8'>?</td></tr>
                  <tr><td class='suit' id='suit_8'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_9' onmousedown='press_card(9)' onmouseup='release_card(9)' ontouchstart='press_card(9)' ontouchend='release_card(9)'>
                  <tr><td class='rank' id='rank_9'>?</td></tr>
                  <tr><td class='suit' id='suit_9'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_10' onmousedown='press_card(10)' onmouseup='release_card(10)' ontouchstart='press_card(10)' ontouchend='release_card(10)'>
                  <tr><td class='rank' id='rank_10'>?</td></tr>
                  <tr><td class='suit' id='suit_10'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_11' onmousedown='press_card(11)' onmouseup='release_card(11)' ontouchstart='press_card(11)' ontouchend='release_card(11)'>
                  <tr><td class='rank' id='rank_11'>?</td></tr>
                  <tr><td class='suit' id='suit_11'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_12' onmousedown='press_card(12)' onmouseup='release_card(12)' ontouchstart='press_card(12)' ontouchend='release_card(12)'>
                  <tr><td class='rank' id='rank_12'>?</td></tr>
                  <tr><td class='suit' id='suit_12'>?</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <button class='menu' id='sort' onclick='sort_hand(true)'>Sort</button>
              </td>
            </tr>
            <tr></tr>
            <tr>
              <td>
                <button class='menu' id='claim' onclick='claim()'>Claim</button>
              </td>
            </tr>
          </table>
          <div class='alert' id='alert' onclick='hide_element("alert")'>
            <p>&nbsp;</p>
            <p>&nbsp;</p>
            <p id='alert_message'></p>
            <button class='menu' onclick='hide_element("alert")'>OK</button>
          </div>
          <div class='alert' id='fold_alert' onclick='hide_element("fold_alert")'>
            <p>&nbsp;</p>
            <p>&nbsp;</p>
            <p>Really want to fold your hand?</p>
            <button class='menu' onclick='fold_hand()'>Yes</button>&nbsp;&nbsp;
            <button class='menu' onclick='hide_element("fold_alert")'>No</button>
          </div>
        </td>
      </tr>
    </table>
  </body>
</html>
