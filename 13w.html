<html>
  <head>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'>
    <title>Chinese Poker</title>
    <link rel='stylesheet' href='game.css'></link>
    <script src='game.js'/></script>
    <script src='special_pattern.js'/></script>
    <script src='wave_evaluator.js'/></script>
    <script src='hand_optimizer.js'/></script>
  </head>
  <body onload='deal_hand()'>
    <h1>Chinese Poker</h1>
    <table class='table'>
      <tr>
        <td>
          <table class='hand' id='ai_front'>
            <tr>
              <td>
                <table class='card' id='ai_front_card_0' onclick='peek_ai_card(0)'>
                  <tr><td class='rank' id='ai_front_rank_0'>&nbsp;</td></tr>
                  <tr><td class='suit' id='ai_front_suit_0'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_front_card_1' onclick='peek_ai_card(1)'>
                  <tr><td class='rank' id='ai_front_rank_1'>&nbsp;</td></tr>
                  <tr><td class='suit' id='ai_front_suit_1'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_front_card_2' onclick='peek_ai_card(2)'>
                  <tr><td class='rank' id='ai_front_rank_2'>&nbsp;</td></tr>
                  <tr><td class='suit' id='ai_front_suit_2'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
        <td>
          <table class='hand' id='ai_center'>
            <tr>
              <td>
                <table class='card' id='ai_center_card_0' onclick='peek_ai_card(3)'>
                  <tr><td class='rank' id='ai_center_rank_0'>&nbsp;</td></tr>
                  <tr><td class='suit' id='ai_center_suit_0'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_center_card_1' onclick='peek_ai_card(4)'>
                  <tr><td class='rank' id='ai_center_rank_1'>&nbsp;</td></tr>
                  <tr><td class='suit' id='ai_center_suit_1'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_center_card_2' onclick='peek_ai_card(5)'>
                  <tr><td class='rank' id='ai_center_rank_2'>&nbsp;</td></tr>
                  <tr><td class='suit' id='ai_center_suit_2'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_center_card_3' onclick='peek_ai_card(6)'>
                  <tr><td class='rank' id='ai_center_rank_3'>&nbsp;</td></tr>
                  <tr><td class='suit' id='ai_center_suit_3'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_center_card_4' onclick='peek_ai_card(7)'>
                  <tr><td class='rank' id='ai_center_rank_4'>&nbsp;</td></tr>
                  <tr><td class='suit' id='ai_center_suit_4'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
        <td>
          <table class='hand' id='ai_back'>
            <tr>
              <td>
                <table class='card' id='ai_back_card_0' onclick='peek_ai_card(8)'>
                  <tr><td class='rank' id='ai_back_rank_0'>&nbsp;</td></tr>
                  <tr><td class='suit' id='ai_back_suit_0'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_back_card_1' onclick='peek_ai_card(9)'>
                  <tr><td class='rank' id='ai_back_rank_1'>&nbsp;</td></tr>
                  <tr><td class='suit' id='ai_back_suit_1'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_back_card_2' onclick='peek_ai_card(10)'>
                  <tr><td class='rank' id='ai_back_rank_2'>&nbsp;</td></tr>
                  <tr><td class='suit' id='ai_back_suit_2'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_back_card_3' onclick='peek_ai_card(11)'>
                  <tr><td class='rank' id='ai_back_rank_3'>&nbsp;</td></tr>
                  <tr><td class='suit' id='ai_back_suit_3'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='ai_back_card_4' onclick='peek_ai_card(12)'>
                  <tr><td class='rank' id='ai_back_rank_4'>&nbsp;</td></tr>
                  <tr><td class='suit' id='ai_back_suit_4'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
        <td class='menu'>
          <b>Level</b><br/>
          <select class='menu' id='level' onchange='select_level()'>
            <option value='0'>Jack</option>
            <option value='1'>Queen</option>
            <option value='2' selected>King</option>
            <option value='3'>Ace</option>
          </select>
        </td>
      </tr>
      <tr class='menu'>
        <td><div class='logo' id='logo'>十三水</div></td>
        <td class='score'>
          <div id='score_diff'></div>
          <div id='score'>You 0-0 AI</div>
          <audio id='win'><source src='win.mp3'/></audio>
          <audio id='lose'><source src='lose.mp3'/></audio>
        </td>
        <td>
          <button class='menu' id='save' onclick='save_waves()'>Save</button>
          <b class='menu' id='load'></b>
        </td>
        <td>
          <button class='menu' id='deal' onclick='deal_hand()'>Deal</button>
          <button class='menu' id='show' onclick='show_hand()'>Show</button>
        </td>
      </tr>
      <tr class='pattern'>
        <td id='front_pattern'>&nbsp;</td>
        <td id='center_pattern'>&nbsp;</td>
        <td id='back_pattern'>&nbsp;</td>
        <td id='average'>&nbsp;</td>
      </tr>
      <tr>
        <td>
          <table class='hand' id='front'>
            <tr>
              <td>
                <table class='card' id='front_card_0' onclick='undo_wave_card(Front, 0)'>
                  <tr><td class='rank' id='front_rank_0'>&nbsp;</td></tr>
                  <tr><td class='suit' id='front_suit_0'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='front_card_1' onclick='undo_wave_card(Front, 1)'>
                  <tr><td class='rank' id='front_rank_1'>&nbsp;</td></tr>
                  <tr><td class='suit' id='front_suit_1'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='front_card_2' onclick='undo_wave_card(Front, 2)'>
                  <tr><td class='rank' id='front_rank_2'>&nbsp;</td></tr>
                  <tr><td class='suit' id='front_suit_2'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
        <td>
          <table class='hand' id='center'>
            <tr>
              <td>
                <table class='card' id='center_card_0' onclick='undo_wave_card(Center, 0)'>
                  <tr><td class='rank' id='center_rank_0'>&nbsp;</td></tr>
                  <tr><td class='suit' id='center_suit_0'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='center_card_1' onclick='undo_wave_card(Center, 1)'>
                  <tr><td class='rank' id='center_rank_1'>&nbsp;</td></tr>
                  <tr><td class='suit' id='center_suit_1'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='center_card_2' onclick='undo_wave_card(Center, 2)'>
                  <tr><td class='rank' id='center_rank_2'>&nbsp;</td></tr>
                  <tr><td class='suit' id='center_suit_2'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='center_card_3' onclick='undo_wave_card(Center, 3)'>
                  <tr><td class='rank' id='center_rank_3'>&nbsp;</td></tr>
                  <tr><td class='suit' id='center_suit_3'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='center_card_4' onclick='undo_wave_card(Center, 4)'>
                  <tr><td class='rank' id='center_rank_4'>&nbsp;</td></tr>
                  <tr><td class='suit' id='center_suit_4'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
        <td>
          <table class='hand' id='back'>
            <tr>
              <td>
                <table class='card' id='back_card_0' onclick='undo_wave_card(Back, 0)'>
                  <tr><td class='rank' id='back_rank_0'>&nbsp;</td></tr>
                  <tr><td class='suit' id='back_suit_0'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='back_card_1' onclick='undo_wave_card(Back, 1)'>
                  <tr><td class='rank' id='back_rank_1'>&nbsp;</td></tr>
                  <tr><td class='suit' id='back_suit_1'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='back_card_2' onclick='undo_wave_card(Back, 2)'>
                  <tr><td class='rank' id='back_rank_2'>&nbsp;</td></tr>
                  <tr><td class='suit' id='back_suit_2'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='back_card_3' onclick='undo_wave_card(Back, 3)'>
                  <tr><td class='rank' id='back_rank_3'>&nbsp;</td></tr>
                  <tr><td class='suit' id='back_suit_3'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='back_card_4' onclick='undo_wave_card(Back, 4)'>
                  <tr><td class='rank' id='back_rank_4'>&nbsp;</td></tr>
                  <tr><td class='suit' id='back_suit_4'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <button class='menu' id='auto' onclick='optimize_hand()'>Auto</button>
                <button class='menu' id='fold' onclick='show_element("fold_alert")'>Fold</button>
              </td>
            </tr>
            <tr>
            </tr>
            <tr>
              <td>
                <button class='menu' onclick='undo_all_cards()'>Clear</button>
              </td>
            </tr>
          </table>
        </td>
      </tr>
      <tr class='move'>
        <td>
          <button class='move' onclick='fill_wave(Front)'>⇈</button>
          &nbsp; &nbsp;
          <button class='move' onclick='clear_wave(Front)'>⇊</button>
        </td>
        <td>
          <button class='move' onclick='fill_wave(Center)'>⇈</button>
          &nbsp; &nbsp;
          <button class='move' onclick='clear_wave(Center)'>⇊</button>
        </td>
        <td>
          <button class='move' onclick='fill_wave(Back)'>⇈</button>
          &nbsp; &nbsp;
          <button class='move' onclick='clear_wave(Back)'>⇊</button>
        </td>
      </tr>
      <tr>
        <td colspan='3'>
          <div class='special' id='special'></div>
          <table class='hand'>
            <tr>
              <td>
                <table class='card' id='card_0' onmousedown='on_mouse_down(0)' onmouseup='on_mouse_up(0)' ontouchstart='on_touch_start(0)' ontouchend='on_touch_end(0)'>
                  <tr><td class='rank' id='rank_0'>&nbsp;</td></tr>
                  <tr><td class='suit' id='suit_0'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_1' onmousedown='on_mouse_down(1)' onmouseup='on_mouse_up(1)' ontouchstart='on_touch_start(1)' ontouchend='on_touch_end(1)'>
                  <tr><td class='rank' id='rank_1'>&nbsp;</td></tr>
                  <tr><td class='suit' id='suit_1'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_2' onmousedown='on_mouse_down(2)' onmouseup='on_mouse_up(2)' ontouchstart='on_touch_start(2)' ontouchend='on_touch_end(2)'>
                  <tr><td class='rank' id='rank_2'>&nbsp;</td></tr>
                  <tr><td class='suit' id='suit_2'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_3' onmousedown='on_mouse_down(3)' onmouseup='on_mouse_up(3)' ontouchstart='on_touch_start(3)' ontouchend='on_touch_end(3)'>
                  <tr><td class='rank' id='rank_3'>&nbsp;</td></tr>
                  <tr><td class='suit' id='suit_3'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_4' onmousedown='on_mouse_down(4)' onmouseup='on_mouse_up(4)' ontouchstart='on_touch_start(4)' ontouchend='on_touch_end(4)'>
                  <tr><td class='rank' id='rank_4'>&nbsp;</td></tr>
                  <tr><td class='suit' id='suit_4'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_5' onmousedown='on_mouse_down(5)' onmouseup='on_mouse_up(5)' ontouchstart='on_touch_start(5)' ontouchend='on_touch_end(5)'>
                  <tr><td class='rank' id='rank_5'>&nbsp;</td></tr>
                  <tr><td class='suit' id='suit_5'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_6' onmousedown='on_mouse_down(6)' onmouseup='on_mouse_up(6)' ontouchstart='on_touch_start(6)' ontouchend='on_touch_end(6)'>
                  <tr><td class='rank' id='rank_6'>&nbsp;</td></tr>
                  <tr><td class='suit' id='suit_6'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_7' onmousedown='on_mouse_down(7)' onmouseup='on_mouse_up(7)' ontouchstart='on_touch_start(7)' ontouchend='on_touch_end(7)'>
                  <tr><td class='rank' id='rank_7'>&nbsp;</td></tr>
                  <tr><td class='suit' id='suit_7'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_8' onmousedown='on_mouse_down(8)' onmouseup='on_mouse_up(8)' ontouchstart='on_touch_start(8)' ontouchend='on_touch_end(8)'>
                  <tr><td class='rank' id='rank_8'>&nbsp;</td></tr>
                  <tr><td class='suit' id='suit_8'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_9' onmousedown='on_mouse_down(9)' onmouseup='on_mouse_up(9)' ontouchstart='on_touch_start(9)' ontouchend='on_touch_end(9)'>
                  <tr><td class='rank' id='rank_9'>&nbsp;</td></tr>
                  <tr><td class='suit' id='suit_9'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_10' onmousedown='on_mouse_down(10)' onmouseup='on_mouse_up(10)' ontouchstart='on_touch_start(10)' ontouchend='on_touch_end(10)'>
                  <tr><td class='rank' id='rank_10'>&nbsp;</td></tr>
                  <tr><td class='suit' id='suit_10'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_11' onmousedown='on_mouse_down(11)' onmouseup='on_mouse_up(11)' ontouchstart='on_touch_start(11)' ontouchend='on_touch_end(11)'>
                  <tr><td class='rank' id='rank_11'>&nbsp;</td></tr>
                  <tr><td class='suit' id='suit_11'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
              <td>
                <table class='card' id='card_12' onmousedown='on_mouse_down(12)' onmouseup='on_mouse_up(12)' ontouchstart='on_touch_start(12)' ontouchend='on_touch_end(12)'>
                  <tr><td class='rank' id='rank_12'>&nbsp;</td></tr>
                  <tr><td class='suit' id='suit_12'>&nbsp;</td></tr>
                  <tr><td></td></tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <button class='menu' id='sort' onclick='sort_hand(true)'>Sort</button>
              </td>
            </tr>
            <tr></tr>
            <tr>
              <td>
                <button class='menu' id='claim' onclick='claim()'>Claim</button>
              </td>
            </tr>
          </table>
          <div class='alert' id='alert' onclick='hide_element("alert")'>
            <p>&nbsp;</p>
            <p>&nbsp;</p>
            <p id='alert_message'></p>
            <button class='menu' onclick='hide_element("alert")'>OK</button>
          </div>
          <div class='alert' id='fold_alert' onclick='hide_element("fold_alert")'>
            <p>&nbsp;</p>
            <p>&nbsp;</p>
            <p>Really want to fold your hand?</p>
            <button class='menu' onclick='fold_hand()'>Yes</button>&nbsp;&nbsp;
            <button class='menu' onclick='hide_element("fold_alert")'>No</button>
          </div>
        </td>
      </tr>
    </table>
  </body>
</html>
